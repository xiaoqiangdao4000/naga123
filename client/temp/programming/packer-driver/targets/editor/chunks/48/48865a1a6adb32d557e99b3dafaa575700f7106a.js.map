{"version":3,"sources":["file:///C:/Users/zzx/Desktop/naga123/client/assets/script/sgj/sgj_view.ts"],"names":["_decorator","Component","Node","SpriteFrame","Sprite","resources","Prefab","instantiate","Button","ccclass","property","game_sgj","start","globalThis","sgj_view","userMgr","score","setWinScoreView","setUserScoreView","all_btn","interactable","left_btn","right_btn","big_btn","small_btn","go_btn","cancel_go_btn","active","bet1_btn","bet2_btn","bet3_btn","bet4_btn","bet5_btn","bet6_btn","bet7_btn","bet8_btn","update","deltaTime","resetMask","i","mask_node","light_node","str","toString","len","length","st","Number","win_score_spr","spriteFrame","up_number_spf","node","user_score_spr","setBetScoreView","area","bet_node","getBetNode","betIndex","bet1_score_spr","bet2_score_spr","bet3_score_spr","bet4_score_spr","bet5_score_spr","bet6_score_spr","bet7_score_spr","bet8_score_spr","addTops","arg1","load","err","prefab","t_fb","tips_node","addChild","t_script","getComponent","onShow"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, SpriteFrame, Sprite, resources, Prefab, instantiate, Button } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('game_view')\r\nexport class game_sgj extends Component {\r\n\r\n    //赢分、我的积分、比倍 用的数字\r\n    @property(SpriteFrame)\r\n    up_number_spf: SpriteFrame[] = [];\r\n\r\n    //下注用的数字\r\n    @property(SpriteFrame)\r\n    dowm_number_spf: SpriteFrame[] = [];\r\n\r\n    //赢分spr\r\n    @property(Sprite)\r\n    win_score_spr: Sprite[] = [];\r\n\r\n    //我的积分spr\r\n    @property(Sprite)\r\n    user_score_spr: Sprite[] = [];\r\n\r\n    //下注1分数spr\r\n    @property(Sprite)\r\n    bet1_score_spr: Sprite[] = [];\r\n\r\n    //下注2分数spr\r\n    @property(Sprite)\r\n    bet2_score_spr: Sprite[] = [];\r\n\r\n    //下注3分数spr\r\n    @property(Sprite)\r\n    bet3_score_spr: Sprite[] = [];\r\n\r\n    //下注4分数spr\r\n    @property(Sprite)\r\n    bet4_score_spr: Sprite[] = [];\r\n\r\n    //下注5分数spr\r\n    @property(Sprite)\r\n    bet5_score_spr: Sprite[] = [];\r\n\r\n    //下注6分数spr\r\n    @property(Sprite)\r\n    bet6_score_spr: Sprite[] = [];\r\n\r\n    //下注7分数spr\r\n    @property(Sprite)\r\n    bet7_score_spr: Sprite[] = [];\r\n\r\n    //下注8分数spr\r\n    @property(Sprite)\r\n    bet8_score_spr: Sprite[] = [];\r\n\r\n    //跑马灯-mask\r\n    @property(Node)\r\n    mask_node: Node[] = [];\r\n\r\n    //跑马灯-light\r\n    @property(Node)\r\n    light_node: Node[] = [];\r\n\r\n    //all+1\r\n    @property(Button)\r\n    all_btn: Button;\r\n\r\n    //left\r\n    @property(Button)\r\n    left_btn: Button;\r\n\r\n    //right\r\n    @property(Button)\r\n    right_btn: Button;\r\n\r\n    //small\r\n    @property(Button)\r\n    small_btn: Button;\r\n\r\n    //big\r\n    @property(Button)\r\n    big_btn: Button;\r\n\r\n    //go\r\n    @property(Button)\r\n    go_btn: Button;\r\n\r\n    //cancel_go\r\n    @property(Node)\r\n    cancel_go_btn: Node;\r\n\r\n    //bet1\r\n    @property(Button)\r\n    bet1_btn: Button;\r\n\r\n    @property(Button)\r\n    bet2_btn: Button;\r\n\r\n    @property(Button)\r\n    bet3_btn: Button;\r\n\r\n    @property(Button)\r\n    bet4_btn: Button;\r\n\r\n    @property(Button)\r\n    bet5_btn: Button;\r\n\r\n    @property(Button)\r\n    bet6_btn: Button;\r\n\r\n    @property(Button)\r\n    bet7_btn: Button;\r\n\r\n    @property(Button)\r\n    bet8_btn: Button;\r\n\r\n    //提示框\r\n    @property(Node)\r\n    tips_node: Node;\r\n\r\n    start() {\r\n        globalThis.sgj_view = this;\r\n\r\n        //初始化分数\r\n        globalThis.userMgr.score = 10000;\r\n\r\n        this.setWinScoreView(0);\r\n        this.setUserScoreView(globalThis.userMgr.score);\r\n\r\n        //重置按钮\r\n        this.all_btn.interactable = true;\r\n        this.left_btn.interactable = false;\r\n        this.right_btn.interactable = false;\r\n        this.big_btn.interactable = false;\r\n        this.small_btn.interactable = false;\r\n        this.go_btn.interactable = false;\r\n        this.cancel_go_btn.active = false;\r\n        this.bet1_btn.interactable = true;\r\n        this.bet2_btn.interactable = true;\r\n        this.bet3_btn.interactable = true;\r\n        this.bet4_btn.interactable = true;\r\n        this.bet5_btn.interactable = true;\r\n        this.bet6_btn.interactable = true;\r\n        this.bet7_btn.interactable = true;\r\n        this.bet8_btn.interactable = true;\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n    }\r\n\r\n    //重置界面\r\n    resetMask() {\r\n        for (let i = 0; i < 24; i++) {\r\n            this.mask_node[i].active = false;\r\n            this.light_node[i].active = false;\r\n        }\r\n    }\r\n\r\n    //设置赢分界面\r\n    setWinScoreView(score: number) {\r\n        let str = score.toString();\r\n        let len = str.length;\r\n        for (let i = 0; i < 10; i++) {\r\n            if (i < len) {\r\n                let st = Number(str[len - i - 1]);\r\n                this.win_score_spr[i].spriteFrame = this.up_number_spf[st];\r\n                this.win_score_spr[i].node.active = true;\r\n            }\r\n            else {\r\n                this.win_score_spr[i].node.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置用户分数界面\r\n    setUserScoreView(score: number) {\r\n        let str = score.toString();\r\n        let len = str.length;\r\n        for (let i = 0; i < 10; i++) {\r\n            if (i < len) {\r\n                let st = Number(str[len - i - 1]);\r\n                this.user_score_spr[i].spriteFrame = this.up_number_spf[st];\r\n                this.user_score_spr[i].node.active = true;\r\n            }\r\n            else {\r\n                this.user_score_spr[i].node.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //设置下注分数0,7\r\n    setBetScoreView(area, score) {\r\n        if (area < 0 || area > 7) return;\r\n        let bet_node = this.getBetNode(area);\r\n        let str = score.toString();\r\n        let len = str.length;\r\n        for (let i = 0; i < 2; i++) {\r\n            if (i < len) {\r\n                let st = Number(str[len - i - 1]);\r\n                bet_node[i].spriteFrame = this.up_number_spf[st];\r\n                bet_node[i].node.active = true;\r\n            }\r\n            else {\r\n                bet_node[i].node.active = false;\r\n            }\r\n        }\r\n    }\r\n\r\n    //获取对应下注节点\r\n    getBetNode(betIndex) {\r\n        if (betIndex == 0) return this.bet1_score_spr;\r\n        else if (betIndex == 1) return this.bet2_score_spr;\r\n        else if (betIndex == 2) return this.bet3_score_spr;\r\n        else if (betIndex == 3) return this.bet4_score_spr;\r\n        else if (betIndex == 4) return this.bet5_score_spr;\r\n        else if (betIndex == 5) return this.bet6_score_spr;\r\n        else if (betIndex == 6) return this.bet7_score_spr;\r\n        else if (betIndex == 7) return this.bet8_score_spr;\r\n        return null;\r\n    }\r\n\r\n    //arg1:弹窗内容\r\n    addTops(arg1: string) {\r\n        resources.load(\"prefab/tips\", Prefab, (err, prefab) => {\r\n            let t_fb = instantiate(prefab);\r\n            this.tips_node.addChild(t_fb);\r\n            let t_script = t_fb.getComponent(\"tips\");\r\n            t_script.onShow(arg1);\r\n        });\r\n    }\r\n\r\n}"]}