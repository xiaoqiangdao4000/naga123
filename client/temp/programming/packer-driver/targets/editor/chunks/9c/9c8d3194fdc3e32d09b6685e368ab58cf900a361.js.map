{"version":3,"sources":["file:///C:/Users/zzx/Desktop/naga123/client/assets/script/sgj/sgj_btn.ts"],"names":["_decorator","Component","Node","Button","AudioMgr","ccclass","property","sgj_btn","tooltip","readonly","type","EventHandler","_touchCounter","_isTouching","myButton","start","node","getComponent","update","deltaTime","onEnable","on","EventType","TOUCH_START","_onTouchStart","TOUCH_END","_onTouchEnd","TOUCH_CANCEL","_onTouchCancel","onDisable","off","event","interactable","publishOneTouch","isLongPress","schedule","_touchCounterCallback","touchInterval","unschedule","longTouchEvents","forEach","eventHandler","emit","handleToucheLogic","touchCounter","customEventData","console","log","inst","play","addBetOneScore","addAllBetOneScore","globalThis","game_sgj","gameState","bet_start","allbet","getAllBetScore","userscore","userMgr","score","addTops","sgj_view","setUserScoreView","i","setBetScore","bet_score","all_btn","left_btn","right_btn","small_btn","big_btn","go_btn","bet1_btn","bet2_btn","bet3_btn","bet4_btn","bet5_btn","bet6_btn","bet7_btn","bet8_btn","sgj_normal","stop","sgj_endFlash","onGameEnd","sgj_moveScore","t_game_sgj","area","showtips","setUserScore"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, EventHandler, EventTouch, Sprite, math, randomRangeInt, Button } from 'cc';\r\nimport { AudioMgr } from '../utils/AudioMgr';\r\n\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass('sgj_btn')\r\nexport class sgj_btn extends Component {\r\n    @property({\r\n        tooltip: \"触摸回调间隔（秒）。假如为0.1，那么1秒内会回调10次 ${longTouchEvents} 事件数组\"\r\n    })\r\n    touchInterval: number = 0.2;\r\n\r\n    @property({\r\n        tooltip: \"是否支持长按\"\r\n    })\r\n    isLongPress: boolean = true;\r\n\r\n    @property({\r\n        readonly: true,\r\n        tooltip: \"是否支持多点触控（当前还不支持）\"\r\n    })\r\n    enableMultiTouching: boolean = false;\r\n\r\n    @property({\r\n        type: [Component.EventHandler],\r\n        tooltip: \"回调事件数组，每间隔 ${toucheInterval}s 回调一次\"\r\n    })\r\n    longTouchEvents: EventHandler[] = [];\r\n\r\n    private _touchCounter: number = 0;\r\n    private _isTouching: boolean = false;\r\n    myButton: Button;\r\n\r\n    start() {\r\n        this.myButton = this.node.getComponent(Button);\r\n    }\r\n\r\n    update(deltaTime: number) {\r\n\r\n    }\r\n\r\n    onEnable() {\r\n        this.node.on(Node.EventType.TOUCH_START, this._onTouchStart, this);\r\n        this.node.on(Node.EventType.TOUCH_END, this._onTouchEnd, this);\r\n        this.node.on(Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this);\r\n    }\r\n\r\n    onDisable() {\r\n        this.node.off(Node.EventType.TOUCH_START, this._onTouchStart, this);\r\n        this.node.off(Node.EventType.TOUCH_END, this._onTouchEnd, this);\r\n        this.node.off(Node.EventType.TOUCH_CANCEL, this._onTouchCancel, this);\r\n    }\r\n\r\n    private _onTouchStart(event: EventTouch) {\r\n\r\n        if (this.myButton.interactable == false) return;\r\n\r\n        this._isTouching = true;\r\n        // 第一次触摸立即回调一次\r\n        this.publishOneTouch();\r\n\r\n        //不支持长按\r\n        if (this.isLongPress == true) {\r\n            this._isTouching = true;\r\n        }\r\n        else {\r\n            this._isTouching = false;\r\n            return;\r\n        }\r\n        // 然后开启计时器，计算后续的长按相当于触摸了多少次\r\n        this.schedule(this._touchCounterCallback, this.touchInterval);\r\n    }\r\n\r\n    private _onTouchEnd(event: EventTouch) {\r\n        this._isTouching = false;\r\n        this._touchCounter = 0;\r\n        this.unschedule(this._touchCounterCallback);\r\n    }\r\n\r\n    private _onTouchCancel(event: EventTouch) {\r\n        this._isTouching = false;\r\n        this._touchCounter = 0;\r\n        this.unschedule(this._touchCounterCallback);\r\n    }\r\n\r\n    private _touchCounterCallback() {\r\n        if (this._isTouching) {\r\n            this.publishOneTouch();\r\n        } else {\r\n            this.unschedule(this._touchCounterCallback);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * 通知出去：被点击/触摸了一次，长按时，会连续多次回调这个方法\r\n     */\r\n    private publishOneTouch() {\r\n        if (!this._isTouching) {\r\n            return;\r\n        }\r\n        this._touchCounter++;\r\n        this.longTouchEvents.forEach((eventHandler: EventHandler) => {\r\n            eventHandler.emit([this._touchCounter]);\r\n        });\r\n    }\r\n\r\n    //处理逻辑事件\r\n    handleToucheLogic(touchCounter: number, customEventData?: any) {\r\n\r\n        console.log(`当前下注按钮 = `, customEventData);\r\n        switch (customEventData) {\r\n            case 'b1':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt1')\r\n                    this.addBetOneScore(0);\r\n                    break;\r\n                }\r\n            case 'b2':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt2')\r\n                    this.addBetOneScore(1);\r\n                    break;\r\n                }\r\n            case 'b3':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt3')\r\n                    this.addBetOneScore(2);\r\n                    break;\r\n                }\r\n            case 'b4':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt4')\r\n                    this.addBetOneScore(3);\r\n                    break;\r\n                }\r\n            case 'b5':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt5')\r\n                    this.addBetOneScore(4);\r\n                    break;\r\n                }\r\n            case 'b6':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt6')\r\n                    this.addBetOneScore(5);\r\n                    break;\r\n                }\r\n            case 'b7':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt7')\r\n                    this.addBetOneScore(6);\r\n                    break;\r\n                }\r\n            case 'b8':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt8')\r\n                    this.addBetOneScore(7);\r\n                    break;\r\n                }\r\n            case 'all':\r\n                {\r\n                    AudioMgr.inst.play('sound/sgj/sgj_bt1')\r\n                    this.addAllBetOneScore();\r\n                    break;\r\n                }\r\n            case 'big':\r\n                {\r\n                    break;\r\n                }\r\n            case 'small':\r\n                {\r\n                    break;\r\n                }\r\n            case 'go':\r\n                {\r\n                    //判断当前状态\r\n                    if (globalThis.game_sgj.gameState == 0)   //下注状态--开始游戏\r\n                    {\r\n                        //是否续投 0第一次，1续投\r\n                        if (globalThis.game_sgj.bet_start == 1) {\r\n                            let allbet = globalThis.game_sgj.getAllBetScore();\r\n                            let userscore = globalThis.globalThis.userMgr.score;\r\n                            if (userscore <= 0) {\r\n                                globalThis.game_sgj.addTops('下注分数不够!');\r\n                                return;\r\n                            }\r\n                            if (userscore < allbet) {\r\n                                globalThis.game_sgj.addTops('下注分数不够，请重新下注！');\r\n                                return;\r\n                            }\r\n\r\n                            //开始续投\r\n                            globalThis.userMgr.score = globalThis.userMgr.score - allbet;\r\n                            globalThis.sgj_view.setUserScoreView(globalThis.userMgr.score);\r\n                            for (let i = 0; i < 8; i++) {\r\n                                globalThis.game_sgj.setBetScore(i, globalThis.game_sgj.bet_score[i]);\r\n                            }\r\n\r\n                        }\r\n                        //按钮状态begin-------\r\n                        globalThis.sgj_view.all_btn.interactable = false;\r\n                        globalThis.sgj_view.left_btn.interactable = false;\r\n                        globalThis.sgj_view.right_btn.interactable = false;\r\n                        globalThis.sgj_view.small_btn.interactable = false;\r\n                        globalThis.sgj_view.big_btn.interactable = false;\r\n                        globalThis.sgj_view.go_btn.interactable = false;\r\n                        globalThis.sgj_view.bet1_btn.interactable = false;\r\n                        globalThis.sgj_view.bet2_btn.interactable = false;\r\n                        globalThis.sgj_view.bet3_btn.interactable = false;\r\n                        globalThis.sgj_view.bet4_btn.interactable = false;\r\n                        globalThis.sgj_view.bet5_btn.interactable = false;\r\n                        globalThis.sgj_view.bet6_btn.interactable = false;\r\n                        globalThis.sgj_view.bet7_btn.interactable = false;\r\n                        globalThis.sgj_view.bet8_btn.interactable = false;\r\n                        //按钮状态end---------\r\n\r\n                        globalThis.sgj_normal.stop();\r\n                        globalThis.sgj_endFlash.stop();\r\n                        globalThis.game_sgj.onGameEnd();\r\n                    }\r\n                    else if (globalThis.game_sgj.gameState == 1)//结束状态--可以收分\r\n                    {\r\n                        globalThis.sgj_view.all_btn.interactable = false;\r\n                        globalThis.sgj_view.left_btn.interactable = false;\r\n                        globalThis.sgj_view.right_btn.interactable = false;\r\n                        globalThis.sgj_view.small_btn.interactable = false;\r\n                        globalThis.sgj_view.big_btn.interactable = false;\r\n                        globalThis.sgj_view.go_btn.interactable = false;\r\n                        globalThis.sgj_view.bet1_btn.interactable = false;\r\n                        globalThis.sgj_view.bet2_btn.interactable = false;\r\n                        globalThis.sgj_view.bet3_btn.interactable = false;\r\n                        globalThis.sgj_view.bet4_btn.interactable = false;\r\n                        globalThis.sgj_view.bet5_btn.interactable = false;\r\n                        globalThis.sgj_view.bet6_btn.interactable = false;\r\n                        globalThis.sgj_view.bet7_btn.interactable = false;\r\n                        globalThis.sgj_view.bet8_btn.interactable = false;\r\n                        globalThis.sgj_moveScore.play();\r\n                    }\r\n\r\n                    break;\r\n                }\r\n        }\r\n    }\r\n\r\n    //下注全部加1\r\n    addAllBetOneScore() {\r\n        if (globalThis.userMgr.score <= 0) {\r\n            globalThis.sgj_view.addTops('余额不足,请充值。。。');\r\n            return;\r\n        }\r\n        let t_game_sgj = globalThis.game_sgj;\r\n        if (t_game_sgj.bet_score[0] >= 99 &&\r\n            t_game_sgj.bet_score[1] >= 99 &&\r\n            t_game_sgj.bet_score[2] >= 99 &&\r\n            t_game_sgj.bet_score[3] >= 99 &&\r\n            t_game_sgj.bet_score[4] >= 99 &&\r\n            t_game_sgj.bet_score[5] >= 99 &&\r\n            t_game_sgj.bet_score[6] >= 99 &&\r\n            t_game_sgj.bet_score[7] >= 99) {\r\n            globalThis.sgj_view.addTops('已经是最大下注了，请点击开始游戏！');\r\n            return;\r\n        }\r\n        this.addBetOneScore(0, false);\r\n        this.addBetOneScore(1, false);\r\n        this.addBetOneScore(2, false);\r\n        this.addBetOneScore(3, false);\r\n        this.addBetOneScore(4, false);\r\n        this.addBetOneScore(5, false);\r\n        this.addBetOneScore(6, false);\r\n        this.addBetOneScore(7, false);\r\n    }\r\n\r\n    //下注+1\r\n    addBetOneScore(area: number, showtips: boolean = true) {\r\n        if (area < 0 || area > 7) return;\r\n        let t_game_sgj = globalThis.game_sgj;\r\n        if (globalThis.userMgr.score > 0 && t_game_sgj.bet_score[area] < 100) {\r\n            t_game_sgj.bet_score[area] += 1;\r\n            globalThis.userMgr.score -= 1;\r\n            //刷新下注、用户分数\r\n            t_game_sgj.setBetScore(area, t_game_sgj.bet_score[area]);\r\n            t_game_sgj.setUserScore(globalThis.userMgr.score);\r\n            //开启go按钮\r\n            globalThis.sgj_view.go_btn.interactable = true;\r\n        }\r\n        else {\r\n            if (showtips) {\r\n                globalThis.sgj_view.addTops('余额不足,请充值。。。');\r\n            }\r\n        }\r\n    }\r\n\r\n}"]}