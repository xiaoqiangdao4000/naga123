{"version":3,"sources":["file:///Users/zzx/Desktop/naga123/client/assets/script/sgj/game_sgj.ts"],"names":["_decorator","Component","SpriteFrame","Sprite","ccclass","property","game_sgj","bet_score","start","globalThis","userMgr","score","setUserScore","setWinScore","i","restBetScore","update","deltaTime","str","toString","len","length","st","Number","win_score_spr","spriteFrame","up_number_spf","node","active","user_score_spr","onBtnClick","event","customEventData","setBetScore","bet1_score_spr","bet2_score_spr","bet3_score_spr","bet4_score_spr","bet5_score_spr","bet6_score_spr","bet7_score_spr","bet8_score_spr","betn_node","btnindex"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,M,OAAAA,M;;;;;;;;;OAC7C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;0BAGjBM,Q,WADZF,OAAO,CAAC,UAAD,C,UAIHC,QAAQ,CAACH,WAAD,C,UAIRG,QAAQ,CAACH,WAAD,C,UAIRG,QAAQ,CAACF,MAAD,C,UAIRE,QAAQ,CAACF,MAAD,C,UAIRE,QAAQ,CAACF,MAAD,C,UAIRE,QAAQ,CAACF,MAAD,C,UAIRE,QAAQ,CAACF,MAAD,C,UAIRE,QAAQ,CAACF,MAAD,C,WAIRE,QAAQ,CAACF,MAAD,C,WAIRE,QAAQ,CAACF,MAAD,C,WAIRE,QAAQ,CAACF,MAAD,C,WAIRE,QAAQ,CAACF,MAAD,C,2BAhDb,MACaG,QADb,SAC8BL,SAD9B,CACwC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAmDpCM,SAnDoC,GAmDxB,CAAC,CAAD,CAnDwB;AAAA;;AAqDpC;AAGAC,QAAAA,KAAK,GAAG;AACJ;AACAC,UAAAA,UAAU,CAACC,OAAX,CAAmBC,KAAnB,GAA2B,GAA3B;AACA,eAAKC,YAAL,CAAkBH,UAAU,CAACC,OAAX,CAAmBC,KAArC;AACA,eAAKE,WAAL,CAAiB,CAAjB;;AACA,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,iBAAKP,SAAL,CAAeO,CAAf,IAAoB,CAApB;AACH;;AACD,eAAKC,YAAL;AACH;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAGzB,CAtEmC,CAwEpC;;;AACAJ,QAAAA,WAAW,CAACF,KAAD,EAAgB;AACvB,cAAIO,GAAG,GAAGP,KAAK,CAACQ,QAAN,EAAV;AACA,cAAIC,GAAG,GAAGF,GAAG,CAACG,MAAd;;AACA,eAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,gBAAIA,CAAC,GAAGM,GAAR,EAAa;AACT,kBAAIE,EAAE,GAAGC,MAAM,CAACL,GAAG,CAACE,GAAG,GAAGN,CAAN,GAAU,CAAX,CAAJ,CAAf;AACA,mBAAKU,aAAL,CAAmBV,CAAnB,EAAsBW,WAAtB,GAAoC,KAAKC,aAAL,CAAmBJ,EAAnB,CAApC;AACA,mBAAKE,aAAL,CAAmBV,CAAnB,EAAsBa,IAAtB,CAA2BC,MAA3B,GAAoC,IAApC;AACH,aAJD,MAKK;AACD,mBAAKJ,aAAL,CAAmBV,CAAnB,EAAsBa,IAAtB,CAA2BC,MAA3B,GAAoC,KAApC;AACH;AACJ;AACJ,SAtFmC,CAwFpC;;;AACAhB,QAAAA,YAAY,CAACD,KAAD,EAAgB;AACxB,cAAIO,GAAG,GAAGP,KAAK,CAACQ,QAAN,EAAV;AACA,cAAIC,GAAG,GAAGF,GAAG,CAACG,MAAd;;AACA,eAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,EAApB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,gBAAIA,CAAC,GAAGM,GAAR,EAAa;AACT,kBAAIE,EAAE,GAAGC,MAAM,CAACL,GAAG,CAACE,GAAG,GAAGN,CAAN,GAAU,CAAX,CAAJ,CAAf;AACA,mBAAKe,cAAL,CAAoBf,CAApB,EAAuBW,WAAvB,GAAqC,KAAKC,aAAL,CAAmBJ,EAAnB,CAArC;AACA,mBAAKO,cAAL,CAAoBf,CAApB,EAAuBa,IAAvB,CAA4BC,MAA5B,GAAqC,IAArC;AACH,aAJD,MAKK;AACD,mBAAKC,cAAL,CAAoBf,CAApB,EAAuBa,IAAvB,CAA4BC,MAA5B,GAAqC,KAArC;AACH;AACJ;AACJ;;AAEDE,QAAAA,UAAU,CAACC,KAAD,EAAaC,eAAb,EAAmC;AACzC,kBAAQA,eAAR;AACI,iBAAK,IAAL;AACI;AACI,qBAAKpB,YAAL,CAAkB,KAAlB;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKqB,WAAL,CAAiB,KAAKC,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKD,WAAL,CAAiB,KAAKE,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKF,WAAL,CAAiB,KAAKG,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKH,WAAL,CAAiB,KAAKI,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKJ,WAAL,CAAiB,KAAKK,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKL,WAAL,CAAiB,KAAKM,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKN,WAAL,CAAiB,KAAKO,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL,iBAAK,MAAL;AACI;AACI,qBAAKP,WAAL,CAAiB,KAAKQ,cAAtB,EAAsC,CAAtC;AACA;AACH;;AACL;AACI;AA/CR;AAiDH,SA1JmC,CA4JpC;;;AACAR,QAAAA,WAAW,CAACS,SAAD,EAAYC,QAAZ,EAAsB;AAC7B,cAAI,KAAKpC,SAAL,CAAeoC,QAAf,IAA2B,EAA3B,IAAiClC,UAAU,CAACC,OAAX,CAAmBC,KAAnB,GAA2B,CAAhE,EAAmE;AAC/D,iBAAKJ,SAAL,CAAeoC,QAAf,KAA4B,CAA5B;AACAlC,YAAAA,UAAU,CAACC,OAAX,CAAmBC,KAAnB,IAA4B,CAA5B;AACA,gBAAIO,GAAG,GAAG,KAAKX,SAAL,CAAeoC,QAAf,EAAyBxB,QAAzB,EAAV;AACA,gBAAIC,GAAG,GAAGF,GAAG,CAACG,MAAd;;AACA,iBAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,kBAAIA,CAAC,GAAGM,GAAR,EAAa;AACT,oBAAIE,EAAE,GAAGC,MAAM,CAACL,GAAG,CAACE,GAAG,GAAGN,CAAN,GAAU,CAAX,CAAJ,CAAf;AACA4B,gBAAAA,SAAS,CAAC5B,CAAD,CAAT,CAAaW,WAAb,GAA2B,KAAKC,aAAL,CAAmBJ,EAAnB,CAA3B;AACAoB,gBAAAA,SAAS,CAAC5B,CAAD,CAAT,CAAaa,IAAb,CAAkBC,MAAlB,GAA2B,IAA3B;AACH,eAJD,MAKK;AACDc,gBAAAA,SAAS,CAAC5B,CAAD,CAAT,CAAaa,IAAb,CAAkBC,MAAlB,GAA2B,KAA3B;AACH;AACJ;;AACD,iBAAKhB,YAAL,CAAkBH,UAAU,CAACC,OAAX,CAAmBC,KAArC;AACH;AACJ,SA/KmC,CAgLpC;;;AACAI,QAAAA,YAAY,GAAG;AACX,eAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,iBAAKP,SAAL,CAAeO,CAAf,IAAoB,CAApB;AACA,gBAAIa,IAAI,GAAG,IAAX;AACA,gBAAIb,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKO,cAAZ,CAAZ,KACK,IAAIpB,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKQ,cAAZ,CAAZ,KACA,IAAIrB,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKS,cAAZ,CAAZ,KACA,IAAItB,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKU,cAAZ,CAAZ,KACA,IAAIvB,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKW,cAAZ,CAAZ,KACA,IAAIxB,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKY,cAAZ,CAAZ,KACA,IAAIzB,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKa,cAAZ,CAAZ,KACA,IAAI1B,CAAC,IAAI,CAAT,EAAYa,IAAI,GAAG,KAAKc,cAAZ;AACjB,gBAAIvB,GAAG,GAAG,KAAKX,SAAL,CAAeO,CAAf,EAAkBK,QAAlB,EAAV;AACA,gBAAIC,GAAG,GAAGF,GAAG,CAACG,MAAd;;AACA,iBAAK,IAAIP,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB,EAA4B;AACxB,kBAAIA,CAAC,GAAGM,GAAR,EAAa;AACT,oBAAIE,EAAE,GAAGC,MAAM,CAACL,GAAG,CAACE,GAAG,GAAGN,CAAN,GAAU,CAAX,CAAJ,CAAf;AACAa,gBAAAA,IAAI,CAACF,WAAL,GAAmB,KAAKC,aAAL,CAAmBJ,EAAnB,CAAnB;AACAK,gBAAAA,IAAI,CAACA,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACH,eAJD,MAKK;AACDD,gBAAAA,IAAI,CAACA,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH;AACJ;AACJ;AACJ;;AA1MmC,O;;;;;iBAIL,E;;;;;;;iBAIE,E;;;;;;;iBAIP,E;;;;;;;iBAIC,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E;;;;;;;iBAIA,E","sourcesContent":["import { _decorator, Component, Node, SpriteFrame, Sprite } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('game_sgj')\nexport class game_sgj extends Component {\n\n    //赢分、我的积分、比倍 用的数字\n    @property(SpriteFrame)\n    up_number_spf: SpriteFrame[] = [];\n\n    //下注用的数字\n    @property(SpriteFrame)\n    dowm_number_spf: SpriteFrame[] = [];\n\n    //赢分spr\n    @property(Sprite)\n    win_score_spr: Sprite[] = [];\n\n    //我的积分spr\n    @property(Sprite)\n    user_score_spr: Sprite[] = [];\n\n    //下注1分数spr\n    @property(Sprite)\n    bet1_score_spr: Sprite[] = [];\n\n    //下注2分数spr\n    @property(Sprite)\n    bet2_score_spr: Sprite[] = [];\n\n    //下注3分数spr\n    @property(Sprite)\n    bet3_score_spr: Sprite[] = [];\n\n    //下注4分数spr\n    @property(Sprite)\n    bet4_score_spr: Sprite[] = [];\n\n    //下注5分数spr\n    @property(Sprite)\n    bet5_score_spr: Sprite[] = [];\n\n    //下注6分数spr\n    @property(Sprite)\n    bet6_score_spr: Sprite[] = [];\n\n    //下注7分数spr\n    @property(Sprite)\n    bet7_score_spr: Sprite[] = [];\n\n    //下注8分数spr\n    @property(Sprite)\n    bet8_score_spr: Sprite[] = [];\n\n    //下注分数\n    bet_score = [8];\n\n    //\n\n\n    start() {\n        //初始化分数\n        globalThis.userMgr.score = 100\n        this.setUserScore(globalThis.userMgr.score);\n        this.setWinScore(0);\n        for (let i = 0; i < 8; i++) {\n            this.bet_score[i] = 0;\n        }\n        this.restBetScore();\n    }\n\n    update(deltaTime: number) {\n\n\n    }\n\n    //设置赢分\n    setWinScore(score: number) {\n        let str = score.toString();\n        let len = str.length;\n        for (let i = 0; i < 10; i++) {\n            if (i < len) {\n                let st = Number(str[len - i - 1]);\n                this.win_score_spr[i].spriteFrame = this.up_number_spf[st];\n                this.win_score_spr[i].node.active = true;\n            }\n            else {\n                this.win_score_spr[i].node.active = false;\n            }\n        }\n    }\n\n    //设置用户分数\n    setUserScore(score: number) {\n        let str = score.toString();\n        let len = str.length;\n        for (let i = 0; i < 10; i++) {\n            if (i < len) {\n                let st = Number(str[len - i - 1]);\n                this.user_score_spr[i].spriteFrame = this.up_number_spf[st];\n                this.user_score_spr[i].node.active = true;\n            }\n            else {\n                this.user_score_spr[i].node.active = false;\n            }\n        }\n    }\n\n    onBtnClick(event: any, customEventData: any) {\n        switch (customEventData) {\n            case 'go':\n                {\n                    this.setUserScore(10000)\n                    break;\n                }\n            case 'bet1':\n                {\n                    this.setBetScore(this.bet1_score_spr, 0);\n                    break;\n                }\n            case 'bet2':\n                {\n                    this.setBetScore(this.bet2_score_spr, 1);\n                    break;\n                }\n            case 'bet3':\n                {\n                    this.setBetScore(this.bet3_score_spr, 2);\n                    break;\n                }\n            case 'bet4':\n                {\n                    this.setBetScore(this.bet4_score_spr, 3);\n                    break;\n                }\n            case 'bet5':\n                {\n                    this.setBetScore(this.bet5_score_spr, 4);\n                    break;\n                }\n            case 'bet6':\n                {\n                    this.setBetScore(this.bet6_score_spr, 5);\n                    break;\n                }\n            case 'bet7':\n                {\n                    this.setBetScore(this.bet7_score_spr, 6);\n                    break;\n                }\n            case 'bet8':\n                {\n                    this.setBetScore(this.bet8_score_spr, 7);\n                    break;\n                }\n            default:\n                break;\n        }\n    }\n\n    //设置下注分数\n    setBetScore(betn_node, btnindex) {\n        if (this.bet_score[btnindex] < 99 && globalThis.userMgr.score > 0) {\n            this.bet_score[btnindex] += 1;\n            globalThis.userMgr.score -= 1;\n            let str = this.bet_score[btnindex].toString();\n            let len = str.length;\n            for (let i = 0; i < 2; i++) {\n                if (i < len) {\n                    let st = Number(str[len - i - 1]);\n                    betn_node[i].spriteFrame = this.up_number_spf[st];\n                    betn_node[i].node.active = true;\n                }\n                else {\n                    betn_node[i].node.active = false;\n                }\n            }\n            this.setUserScore(globalThis.userMgr.score);\n        }\n    }\n    //重置下注分数\n    restBetScore() {\n        for (let i = 0; i < 8; i++) {\n            this.bet_score[i] = 0;\n            let node = null;\n            if (i == 0) node = this.bet1_score_spr;\n            else if (i == 1) node = this.bet2_score_spr;\n            else if (i == 2) node = this.bet3_score_spr;\n            else if (i == 3) node = this.bet4_score_spr;\n            else if (i == 4) node = this.bet5_score_spr;\n            else if (i == 5) node = this.bet6_score_spr;\n            else if (i == 6) node = this.bet7_score_spr;\n            else if (i == 7) node = this.bet8_score_spr;\n            let str = this.bet_score[i].toString();\n            let len = str.length;\n            for (let i = 0; i < 2; i++) {\n                if (i < len) {\n                    let st = Number(str[len - i - 1]);\n                    node.spriteFrame = this.up_number_spf[st];\n                    node.node.active = true;\n                }\n                else {\n                    node.node.active = false;\n                }\n            }\n        }\n    }\n}"]}