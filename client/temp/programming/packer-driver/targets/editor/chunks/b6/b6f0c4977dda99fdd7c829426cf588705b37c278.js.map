{"version":3,"sources":["file:///Users/zzx/Desktop/naga123/client/assets/script/sgj/sgj_data.ts"],"names":["sgj_data","randomRangeInt","times","sererMap","step","area","winscore","name","cmd_s_gameEnd","type","eventid","tiems","wins_core","user_score","record","getInstance","instance","getRandomStep","betscore","rd","data","getEndData","endData","t_area","t_times"],"mappings":"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","sourcesContent":["import { randomRangeInt, sys } from \"cc\";\n\nexport default class sgj_data {\n\n    public static instance = null;\n    public times = [5, 10, 15, 20, 30, 40, 100];\n    public sererMap = [\n        { step: '0',  area: 1,  times: 0, winscore:0, name: '橙子' },\n        { step: '1',  area: 3,  times: 0, winscore:0, name: '铃铛' },\n        { step: '2',  area: 17, times: 0, winscore:0, name: '小bar' },\n        { step: '3',  area: 7,  times: 0, winscore:0, name: 'bar' },\n        { step: '4',  area: 0,  times: 0, winscore:0, name: '苹果' },\n        { step: '5',  area: 10, times: 0, winscore:0, name: '小苹果' },\n        { step: '6',  area: 2,  times: 0, winscore:0, name: '木瓜' },\n        { step: '7',  area: 4,  times: 0, winscore:0, name: '西瓜' },\n        { step: '8',  area: 14, times: 0, winscore:0, name: '小西瓜' },\n        { step: '9',  area: 8,  times: 0, winscore:0, name: 'lucky' },\n        { step: '10', area: 0,  times: 0, winscore:0, name: '苹果' },\n        { step: '11', area: 11, times: 0, winscore:0, name: '小橙子' },\n        { step: '12', area: 1,  times: 0, winscore:0, name: '橙子' },\n        { step: '13', area: 3,  times: 0, winscore:0, name: '铃铛' },\n        { step: '14', area: 16, times: 0, winscore:0, name: '小77' },\n        { step: '15', area: 6,  times: 0, winscore:0, name: '77' },\n        { step: '16', area: 0,  times: 0, winscore:0, name: '苹果' },\n        { step: '17', area: 12, times: 0, winscore:0, name: '小木瓜' },\n        { step: '18', area: 2,  times: 0, winscore:0, name: '木瓜' },\n        { step: '19', area: 5,  times: 0, winscore:0, name: '双星' },\n        { step: '20', area: 15, times: 0, winscore:0, name: '小双星' },\n        { step: '21', area: 8,  times: 0, winscore:0, name: 'lucky' },\n        { step: '22', area: 0,  times: 0, winscore:0, name: '苹果' },\n        { step: '23', area: 13, times: 0, winscore:0, name: '小铃铛' },\n    ];\n\n    cmd_s_gameEnd =\n        {\n            type: 'cmd_s_gameEnd',\n            eventid: 0,  //中奖类型：0-不中奖，1-普通中奖，lucky：2-灭灯，3-翻倍，4-大三元，5-小三元，6-大四喜，7-众横四海，8-仙女散花，9-天龙八部，10-九莲宝灯，11-大满贯\n            step: [],    //开奖格子,数组[24]\n            area: [],    //开奖区域,数组[24]\n            tiems: [],   //倍数,数组[24]\n            wins_core: [], //当前赢分,数组[24]\n            user_score: 0,  //分数\n            record: [0, 0, 0, 0, 0, 0, 0, 0],   //历史记录\n        }\n\n    static getInstance() {\n        if (this.instance == null) {\n            this.instance = new sgj_data();\n            return this.instance;\n        }\n        else {\n            return this.instance;\n        }\n    }\n\n    //获取随机中奖格子\n    getRandomStep(betscore) {\n        //格子\n        let rd = randomRangeInt(0, 24);\n        let data = this.sererMap[rd];\n        //倍数\n        rd = randomRangeInt(0, 7);\n        data.times = this.times[rd];\n        //区域\n        if (data.area > 9) data.area = data.area - 10;\n        //分数\n        data.winscore = data.area==8 ? 0: betscore[data.area]*data.times;\n        return data;\n    }\n\n    //获取中奖数据\n    getEndData(betscore)\n    {\n        let endData = this.cmd_s_gameEnd;\n       //获取中奖格子\n       let data = this.getRandomStep(betscore);\n       let t_area = data.area;\n       let t_times = data.times;\n\n       //中奖类型：0-不中奖，1-普通中奖，lucky：2-灭灯，3-翻倍，4-大三元，5-小三元，6-大四喜，7-众横四海，8-仙女散花，9-天龙八部，10-九莲宝灯，11-大满贯\n       //判断是否中奖\n       if(t_area == 8 || (t_area < 8 && betscore[t_area] > 0)) //lucky\n       {\n          this.cmd_s_gameEnd.eventid = 1;//randomRangeInt(1,12);\n          if(this.cmd_s_gameEnd.eventid == 1 ) //1-普通中奖\n          {\n            data.winscore = betscore[t_area] * t_times;\n          }\n          else if(this.cmd_s_gameEnd.eventid == 2) //2-灭灯\n          {\n            data.winscore = 0;\n          }\n          else if(this.cmd_s_gameEnd.eventid == 2) //3-翻倍\n          {\n            data.winscore = 0;\n          }\n       }\n\n\n    }\n\n\n}"]}