{"version":3,"sources":["file:///Users/zzx/Desktop/naga123/client/assets/script/utils/userMgr.ts"],"names":["_decorator","Component","sys","ccclass","property","userMgr","account","userid","nickname","password","score","sign","ip","sex","roomid","bind_account","getInstance","instance","start","console","log","globalThis","getAccount","userData","localStorage","getItem","data","JSON","parse","userinfo","saveAccount","setItem","stringify","update","deltaTime"],"mappings":";;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,G,OAAAA,G;;;;;;;;;OAChC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;yBAEjBK,O,WADZF,OAAO,CAAC,SAAD,C,2BAAR,MACaE,OADb,SAC6BJ,SAD7B,CACuC;AAAA;AAAA;AAAA,eAE5BK,OAF4B,GAElB,IAFkB;AAAA,eAG5BC,MAH4B,GAGnB,CAHmB;AAAA,eAI5BC,QAJ4B,GAIjB,EAJiB;AAAA,eAK5BC,QAL4B,GAKjB,EALiB;AAAA,eAM5BC,KAN4B,GAMpB,CANoB;AAAA,eAO5BC,IAP4B,GAOrB,CAPqB;AAAA,eAQ5BC,EAR4B,GAQvB,EARuB;AAAA,eAS5BC,GAT4B,GAStB,CATsB;AAAA,eAU5BC,MAV4B,GAUnB,IAVmB;AAAA,eAW5BC,YAX4B,GAWb,CAXa;AAAA;;AAcV,eAAXC,WAAW,GAAG;AACxB,cAAIX,OAAO,CAACY,QAAR,IAAoB,IAAxB,EAA8B;AAC1BZ,YAAAA,OAAO,CAACY,QAAR,GAAmB,IAAIZ,OAAJ,EAAnB;AACA,mBAAOA,OAAO,CAACY,QAAf;AACH,WAHD,MAIK;AACD,mBAAOZ,OAAO,CAACY,QAAf;AACH;AACJ;;AAEDC,QAAAA,KAAK,GAAG;AACJC,UAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACAC,UAAAA,UAAU,CAAChB,OAAX,GAAqBA,OAAO,CAACW,WAAR,EAArB;AACH,SA3BkC,CA6BnC;;;AACAM,QAAAA,UAAU,GAAG;AACT,cAAIC,QAAQ,GAAGrB,GAAG,CAACsB,YAAJ,CAAiBC,OAAjB,CAAyB,UAAzB,CAAf;AACA,cAAIC,IAAI,GAAGC,IAAI,CAACC,KAAL,CAAWL,QAAX,CAAX;AACA,cAAIM,QAAQ,GAAG;AACXrB,YAAAA,QAAQ,EAAE,EADC;AAEXC,YAAAA,QAAQ,EAAE;AAFC,WAAf;;AAIA,cAAIiB,IAAI,IAAI,IAAZ,EAAkB;AACdG,YAAAA,QAAQ,CAACrB,QAAT,GAAoB,OAApB;AACAqB,YAAAA,QAAQ,CAACpB,QAAT,GAAoB,EAApB;AACH,WAHD,MAIK;AAEDoB,YAAAA,QAAQ,CAACrB,QAAT,GAAoBkB,IAAI,CAAClB,QAAzB;AACAqB,YAAAA,QAAQ,CAACpB,QAAT,GAAoBiB,IAAI,CAACjB,QAAzB;AACH;;AACDU,UAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBS,QAAxB;AACA,iBAAOA,QAAP;AACH,SAhDkC,CAkDnC;;;AACAC,QAAAA,WAAW,CAACtB,QAAD,EAAmBC,QAAnB,EAAqC;AAC5C,cAAIiB,IAAI,GAAG;AACPlB,YAAAA,QAAQ,EAAEA,QADH;AAEPC,YAAAA,QAAQ,EAAEA;AAFH,WAAX;AAIAP,UAAAA,GAAG,CAACsB,YAAJ,CAAiBO,OAAjB,CAAyB,UAAzB,EAAqCJ,IAAI,CAACK,SAAL,CAAeN,IAAf,CAArC;AACH;;AAEDO,QAAAA,MAAM,CAACC,SAAD,EAAoB,CAEzB;;AA7DkC,O,UAY5BjB,Q,GAAW,I","sourcesContent":["import { _decorator, Component, Node, sys } from 'cc';\nconst { ccclass, property } = _decorator;\n@ccclass('userMgr')\nexport class userMgr extends Component {\n\n    public account = null;  //账号\n    public userid = 0;      //用户id\n    public nickname = '';   //昵称\n    public password = '';   //密码\n    public score = 0;   //分数\n    public sign = 0;        //标志\n    public ip = '';         //ip\n    public sex = 0;         //性别 \n    public roomid = null;   //房间数据\n    public bind_account = 0;    //绑定账号\n    static instance = null;\n\n    public static getInstance() {\n        if (userMgr.instance == null) {\n            userMgr.instance = new userMgr();\n            return userMgr.instance;\n        }\n        else {\n            return userMgr.instance;\n        }\n    }\n\n    start() {\n        console.log('userMgr =====')\n        globalThis.userMgr = userMgr.getInstance();\n    }\n\n    //获取账号信息\n    getAccount() {\n        let userData = sys.localStorage.getItem('userinfo');\n        let data = JSON.parse(userData);\n        let userinfo = {\n            nickname: '',\n            password: '',\n        };\n        if (data == null) {\n            userinfo.nickname = 'guest'\n            userinfo.password = '';\n        }\n        else {\n\n            userinfo.nickname = data.nickname;\n            userinfo.password = data.password;\n        }\n        console.log('获取到本地账户:', userinfo);\n        return userinfo;\n    }\n\n    //保存账号信息\n    saveAccount(nickname: string, password: string) {\n        let data = {\n            nickname: nickname,\n            password: password,\n        }\n        sys.localStorage.setItem('userinfo', JSON.stringify(data));\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n\n"]}