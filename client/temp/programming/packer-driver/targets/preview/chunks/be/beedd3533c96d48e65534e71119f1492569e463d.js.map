{"version":3,"sources":["file:///Users/zzx/Desktop/naga123/client/assets/script/sgj/sgj_sprite.ts"],"names":["_decorator","Component","Node","SpriteFrame","Sprite","resources","Prefab","instantiate","ccclass","property","sgj_sprite","getInstance","instance","setWinScore","score","str","toString","len","length","i","st","Number","win_score_spr","spriteFrame","up_number_spf","node","active","setUserScore","console","log","user_score_spr","addTops","arg1","load","err","prefab","t_fb","tips_node","addChild","t_script","getComponent","onShow","start","globalThis","userMgr","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node, SpriteFrame, Sprite, resources, Prefab, instantiate } from 'cc';\nconst { ccclass, property } = _decorator;\n\n@ccclass('sgj_sprite')\nexport class sgj_sprite extends Component {\n\n    //赢分、我的积分、比倍 用的数字\n    @property(SpriteFrame)\n    up_number_spf: SpriteFrame[] = [];\n\n    //下注用的数字\n    @property(SpriteFrame)\n    dowm_number_spf: SpriteFrame[] = [];\n\n    //赢分spr\n    @property(Sprite)\n    win_score_spr: Sprite[] = [];\n\n    //我的积分spr\n    @property(Sprite)\n    user_score_spr: Sprite[] = [];\n\n    //提示框\n    @property(Node)\n    tips_node: Node;\n\n    static instance = null;\n\n    public static getInstance() {\n        if (sgj_sprite.instance == null) {\n            sgj_sprite.instance = new sgj_sprite();\n            return sgj_sprite.instance;\n        }\n        else {\n            return sgj_sprite.instance;\n        }\n    }\n\n    //设置赢分\n    setWinScore(score: number) {\n        let str = score.toString();\n        let len = str.length;\n        for (let i = 0; i < 10; i++) {\n            if (i < len) {\n                let st = Number(str[len - i - 1]);\n                this.win_score_spr[i].spriteFrame = this.up_number_spf[st];\n                this.win_score_spr[i].node.active = true;\n            }\n            else {\n                this.win_score_spr[i].node.active = false;\n            }\n        }\n    }\n\n    //设置用户分数\n    setUserScore(score: number) {\n        let str = score.toString();\n        let len = str.length;\n        for (let i = 0; i < 10; i++) {\n            if (i < len) {\n                let st = Number(str[len - i - 1]);\n\n                console.log('dddddd = ', this.user_score_spr[i])\n                this.user_score_spr[i].spriteFrame = this.up_number_spf[st];\n                this.user_score_spr[i].node.active = true;\n            }\n            else {\n                this.user_score_spr[i].node.active = false;\n            }\n        }\n    }\n\n    //arg1:弹窗内容\n    addTops(arg1: string) {\n        resources.load(\"prefab/tips\", Prefab, (err, prefab) => {\n            let t_fb = instantiate(prefab);\n            this.tips_node.addChild(t_fb);\n            let t_script = t_fb.getComponent(\"tips\");\n            t_script.onShow(arg1);\n        });\n    }\n\n    start() {\n        globalThis.sgj_sprite = sgj_sprite.getInstance();\n        globalThis.userMgr.score = 10;\n    }\n\n    update(deltaTime: number) {\n\n    }\n}\n\n"]}