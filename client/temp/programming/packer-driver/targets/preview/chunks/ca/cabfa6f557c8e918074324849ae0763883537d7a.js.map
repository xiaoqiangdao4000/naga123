{"version":3,"sources":["file:///Users/zzx/Desktop/naga123/client/assets/script/sgj/sgj_data.ts"],"names":["sgj_data","randomRangeInt","times","serverStepName","serverStepArea","cmd_s_gameEnd","type","eventid","step","area","tiems","win_score","user_score","record","getInstance","instance","getAllBetScore","betscore","score","i","getStepData","randomStep","t_step","t_area","t_times","winscore","getEndData","endData","data","push","t_winscore","allBetScore"],"mappings":"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","sourcesContent":["import { randomRangeInt, sys } from \"cc\";\n\nexport default class sgj_data {\n    public static instance = null;\n    static getInstance() {\n        if (this.instance == null) {\n            this.instance = new sgj_data();\n            return this.instance;\n        }\n        else {\n            return this.instance;\n        }\n    }\n    public times = [5, 10, 15, 20, 30, 40, 100];\n    public serverStepName = ['橙子', '铃铛', '小bar', 'bar', '苹果', '小苹果', '木瓜', '西瓜', '小西瓜', 'lucky', '苹果', '小橙子', '橙子', '铃铛',\n        '小77', '77', '苹果', '小木瓜', '木瓜', '双星', '小双星', 'lucky', '苹果', '小铃铛'];\n    //格子对应的中奖区域\n    public serverStepArea = [1, 3, 17, 7, 0, 10, 2, 4, 14, 8, 0, 11, 1, 3, 16, 6, 0, 12, 2, 5, 15, 8, 0, 13];\n    public cmd_s_gameEnd =\n        {\n            type: 'cmd_s_gameEnd',\n            eventid: 0,  //中奖类型：0-不中奖，1-普通中奖，lucky：2-灭灯，3-翻倍，4-大三元，5-小三元，6-大四喜，7-众横四海，8-仙女散花，9-天龙八部，10-九莲宝灯，11-大满贯\n            step: [],    //开奖格子,数组[24]\n            area: [],    //开奖区域,数组[24]\n            tiems: [],   //倍数,数组[24]\n            win_score: [], //当前赢分,数组[24]\n            user_score: 0,  //分数\n            record: [0, 0, 0, 0, 0, 0, 0, 0],   //历史记录\n        }\n    getAllBetScore(betscore) {\n        let score = 0;\n        for (let i = 0; i < 8; i++) {\n            score += betscore;\n        }\n        return score;\n    }\n    getStepData(randomStep, betscore) {\n        let t_step = randomStep;\n        let t_area = this.serverStepArea[t_step];\n        if (t_area > 9) t_area -= 10;\n        let t_times = this.times[randomRangeInt(0, 7)];\n        let winscore = 0;\n        if (t_area == 8) winscore = randomRangeInt(1, 100) * t_times;\n        else winscore = betscore[t_area] * t_times;\n        return [t_step, t_area, t_times, winscore];\n    }\n\n    //获取中奖数据\n    getEndData(betscore) {\n        let endData = this.cmd_s_gameEnd;\n        //获取第一次中奖格子\n        let t_step = randomRangeInt(0, 24);\n        let data = this.getStepData(t_step, betscore)\n        endData.step.push(data[0]);\n        endData.area.push(data[1]);\n        endData.tiems.push(data[2]);\n        endData.win_score.push(data[3]);\n        endData.eventid = 0;\n        let t_area = data[1];\n        let t_winscore = data[3];\n        let allBetScore = this.getAllBetScore(betscore);\n\n\n        //判断是否中奖--中奖类型：0-不中奖，1-普通中奖，lucky：2-灭灯，3-翻倍，4-大三元，5-小三元，6-大四喜，7-众横四海，8-仙女散花，9-天龙八部，10-九莲宝灯，11-大满贯\n        if (t_area == 8 || (t_area < 8 && betscore[t_area] > 0)) //lucky\n        {\n            endData.eventid = 1;//randomRangeInt(1,12);\n            if (endData.eventid == 1) //1-普通中奖\n            {\n            }\n            else if (this.cmd_s_gameEnd.eventid == 2) //2送灯--灭灯\n            {\n                endData.step.push(data[0]);\n                endData.area.push(data[1]);\n                endData.tiems.push(data[2]);\n                endData.win_score.push(0);\n            }\n            else if (this.cmd_s_gameEnd.eventid == 2) //3送灯--翻倍\n            {\n                endData.step.push(data[0]);\n                endData.area.push(data[1]);\n                endData.tiems.push(data[2]);\n                endData.win_score.push(t_winscore);\n            }\n        }\n\n        return endData;\n    }\n\n\n}"]}