{"version":3,"sources":["file:///Users/zzx/Desktop/naga123/client/assets/script/sgj/sgj_moveScore.ts"],"names":["_decorator","Component","AudioMgr","ccclass","property","sgj_moveScore","scoretime_add","start","globalThis","play","stop","win","game_sgj","getWinScore","schedule","updateScore","unschedule","t_game_sgj","setWinScore","userMgr","score","setUserScore","inst","gameState","sgj_view","all_btn","interactable","left_btn","right_btn","small_btn","big_btn","go_btn","bet1_btn","bet2_btn","bet3_btn","bet4_btn","bet5_btn","bet6_btn","bet7_btn","bet8_btn","update","deltaTime"],"mappings":"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","sourcesContent":["import { _decorator, Component, Node } from 'cc';\nimport { AudioMgr } from '../utils/AudioMgr';\nconst { ccclass, property } = _decorator;\n\n@ccclass('sgj_moveScore')\nexport class sgj_moveScore extends Component {\n    scoretime_add = 1;\n\n    start() {\n        globalThis.sgj_moveScore = this;\n    }\n\n    play() {\n        this.stop();\n        let win = globalThis.game_sgj.getWinScore();\n        this.scoretime_add = 1;\n\n        // if (win < 50) {\n        //     this.scoretime_add = Math.floor(win / 5);\n        //     AudioMgr.inst.playOneShot(\"moveScroe\");\n        // }\n        // else if (win < 300) {\n        //     this.scoretime_add = Math.floor(win / 10);\n        // }\n        // else if (win < 700) {\n        //     this.scoretime_add = Math.floor(win / 15);\n        // }\n        // else if (win < 1000) {\n        //     this.scoretime_add = Math.floor(win / 20);\n        // }\n        // else if (win < 2000) {\n        //     this.scoretime_add = Math.floor(win / 25);\n        // }\n        // else if (win < 4000) {\n        //     this.scoretime_add = Math.floor(win / 30);\n        // }\n        // else {\n        //     this.scoretime_add = Math.floor(win / 40);\n        // }\n        this.schedule(this.updateScore, 0.05);\n    }\n\n    stop() {\n        this.unschedule(this.updateScore);\n    }\n\n    updateScore() {\n        let t_game_sgj = globalThis.game_sgj;\n        let win = t_game_sgj.getWinScore();\n        if (win > 0) {\n            t_game_sgj.setWinScore(win - 1);\n            globalThis.userMgr.score = globalThis.userMgr.score + 1;\n            t_game_sgj.setUserScore(globalThis.userMgr.score);\n            AudioMgr.inst.play('sound/sgj/getscore')\n        }\n        else {\n            this.stop();\n            globalThis.game_sgj.gameState = 0;\n            globalThis.sgj_view.all_btn.interactable = true;\n            globalThis.sgj_view.left_btn.interactable = false;\n            globalThis.sgj_view.right_btn.interactable = false;\n            globalThis.sgj_view.small_btn.interactable = false;\n            globalThis.sgj_view.big_btn.interactable = false;\n            globalThis.sgj_view.go_btn.interactable = false;\n            globalThis.sgj_view.bet1_btn.interactable = true;\n            globalThis.sgj_view.bet2_btn.interactable = true;\n            globalThis.sgj_view.bet3_btn.interactable = true;\n            globalThis.sgj_view.bet4_btn.interactable = true;\n            globalThis.sgj_view.bet5_btn.interactable = true;\n            globalThis.sgj_view.bet6_btn.interactable = true;\n            globalThis.sgj_view.bet7_btn.interactable = true;\n            globalThis.sgj_view.bet8_btn.interactable = true;\n        }\n    }\n\n    update(deltaTime: number) {\n\n    }\n}"]}